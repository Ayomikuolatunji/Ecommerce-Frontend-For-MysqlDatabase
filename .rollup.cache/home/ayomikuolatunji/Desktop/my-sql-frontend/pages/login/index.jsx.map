{"version":3,"file":"index.jsx","sourceRoot":"","sources":["index.tsx"],"names":[],"mappings":"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","sourcesContent":["import Link from \"next/link\";\nimport React, { useEffect, useState } from \"react\";\nimport { useForm, SubmitHandler } from \"react-hook-form\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport { useRouter } from 'next/router'\nimport * as yup from \"yup\";\n\n\nimport * as UI from \"../../components\";\nimport { IFormValues } from \"../../components/InputField/InputField\";\nimport LoginStorage from \"../../helpers/LoginStorage\";\nimport { toast } from \"react-toastify\";\nimport Cookies from \"../../helpers/Cookies\";\nimport { useLoginMutation } from \"../../redux/apis/authApi\";\nimport { Error, loginData } from \"../../models/authTypings\";\n\n\nconst schema = yup\n  .object({\n    email: yup.string().required(),\n    password: yup.string().required(),\n  })\n  .required();\n\nconst Login = () => {\n  const [rememberMe, setRememberMe] = useState(false);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const router = useRouter()\n\n\n\n  const [login, { data }] = useLoginMutation();\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm<IFormValues>({\n    resolver: yupResolver(schema),\n  });\n\n  useEffect(() => {\n    if (Cookies.get(\"user_token\")) {\n        router.push(\"/\")\n    }\n  }, [router]);\n\n  useEffect(()=>{\n    if(isLoggedIn){\n       setTimeout(()=>{\n        window.location.href = \"/\";\n       },2000)\n    }\n  },[isLoggedIn])\n\n  useEffect(() => {\n    if (data) {\n      const getData = data as unknown as loginData;\n      LoginStorage(\"user_token\",getData?.token, rememberMe);\n      toast.success(\"login successful\", {\n        toastId: \"login-success-id\",\n      });\n      setIsLoggedIn(true)\n    }\n  }, [data]);\n\n  const onSubmit: SubmitHandler<IFormValues> = async (data) => {\n    try {\n      await login({\n        email: data.email,\n        password: data.password,\n      }).unwrap();\n    } catch (error: any) {\n      const err = error as Error;\n      if (err) {\n        toast.error(err?.data?.message, {\n          toastId: \"login-response-error\",\n        });\n      } else {\n        toast.error(\"something went wrong\", {\n          toastId: \"login-response-error-id__2\",\n        });\n      }\n    }\n  };\n\n  return (\n    <form className=\"bg-white mt-4 border-[1px] border-[#d7d7d7] h-auto relative\">\n      <div className=\"flex w-[100%]\">\n        <div className=\"personal-information w-[50%] p-3\">\n          <div className=\"title\">\n            <h1 className=\"text-black text-lg font-extrabold\">\n              Personal Information\n            </h1>\n\n            <h3 className=\"mt-10\">\n              If you have an account, sign in with your email address\n            </h3>\n          </div>\n          <div className=\"form w-[100%]\">\n            <div className=\"first-name flex mt-5 items-center\">\n              <div>\n                <label className=\"text-[#69686c] font-bold\">Email</label>\n                <span className=\"text-red-500 text-xl ml-4 mb-5\">*</span>\n              </div>\n              <div className=\"ml-12\">\n                <UI.InputField\n                  type=\"email\"\n                  className=\"email bg-white border-[1px] border-[#dd] outline-none p-1 w-[100%]\"\n                  isHookForm={true}\n                  label=\"email\"\n                  required={true}\n                  register={register}\n                />\n                <span className=\"mt-1\">This is a required field.</span>\n              </div>\n            </div>\n            <div className=\"password flex mt-5 w-[100%] items-center\">\n              <div>\n                <label className=\"text-[#69686c] font-bold\">Password</label>\n                <span className=\"text-red-500 text-xl ml-4 mb-1\">*</span>\n              </div>\n              <div className=\"ml-12\">\n                <UI.InputField\n                  type=\"text\"\n                  className=\"last-name  bg-white border-[1px] border-[#dd] outline-none p-1 w-[100%]\"\n                  isHookForm={true}\n                  label=\"password\"\n                  register={register}\n                  required={true}\n                />\n                <span className=\"mt-1\">This is a required field.</span>\n              </div>\n            </div>\n            <div className=\"newletter flex mt-6 w-[100%] ml-36 items-center\">\n              <div>\n                <input\n                  type=\"checkbox\"\n                  className=\"last-name bg-white border-[1px] border-[#dd] outline-none p-1 w-[100%]\"\n                  onChange={() => setRememberMe(!rememberMe)}\n                  checked={rememberMe}\n                />\n              </div>\n              <div>\n                <label className=\"text-[#69686c] font-normal ml-3\">\n                  Remember me on this device\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"left-login-information w-[50%] block p-3\">\n          <div className=\"title\">\n            <h1 className=\"text-black text-lg font-extrabold\">New Customers</h1>\n            <h3 className=\"mt-5\">\n              Creating an account has many benefits: check out faster, keep more\n              than one address, track orders and more.\n            </h3>\n          </div>\n          <div className=\"create-account-btn mt-12 mb-9 text-center\">\n            <Link href={\"/signup\"} passHref>\n              <a className=\"text-white py-2 px-4 -ml-44 bg-red-color hover:bg-gray-500 transition-[background-color] duration-500 ease-in-out font-[600]\">\n                CREATE AN ACCOUNT\n              </a>\n            </Link>\n          </div>\n        </div>\n      </div>\n      <div className=\"create-account-btn mt-12 mb-9 text-center\">\n        <UI.Button\n          className=\"text-white py-2 px-4 -ml-44 bg-red-color hover:bg-gray-500 transition-[background-color] duration-500 ease-in-out font-[600]\"\n          text=\"SIGN IN\"\n          type=\"submit\"\n          onClick={handleSubmit(onSubmit)}\n        />\n      </div>\n      <div className=\"error text-center\">\n        <span className=\"text-red-500 text-xl\">\n          {errors.email?.type && \"All fields are required\"}\n        </span>\n      </div>\n    </form>\n  );\n};\n\nexport default Login;\n"]}